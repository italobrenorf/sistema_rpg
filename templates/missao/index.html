{% extends '_base.html' %}

{% block content %}
<h3 class="uk-heading-line uk-text-bold"><span>Missões</span></h3>

{% if perms.missao.add_missao %}
<div class="uk-margin">
    <a href="/missao/add/" class="uk-button uk-button-primary uk-light">
        Criar nova missão
    </a>
</div>
{% endif %}
<!-- Tabela -->
<div class="uk-overflow-auto">
    <table class="uk-table uk-table-divider uk-table-hover uk-table-striped uk-table-small">
        <thead>
            <tr>
                <th>Título</th>
                <th>Recompensa</th>
                <th>Descrição</th>
                {% if perms.missao.detail_missao %} <th class="uk-text-center">Detalhe</th> {% endif %}
                {% if perms.missao.change_missao %} <th class="uk-text-center">Editar</th> {% endif %}
                {% if perms.missao.delete_missao %} <th class="uk-text-center">Deletar</th> {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for missao in missoes %}
            <tr>
                <td>{{ missao.nome }}</td>
                <td>{{ missao.recompensa }}</td>
                <td>{{ missao.descricao }}</td>
                {% if perms.missao.detail_missao %} <td class="uk-text-center">
                    <a href="/missao/{{missao.id}}" class="uk-button uk-button-default uk-button-small">Detalhes</a>
                </td> {% endif %}
                {% if perms.missao.change_missao %} <td class="uk-text-center">
                    <a href="/missao/edit/{{missao.id}}" class="uk-button uk-button-secondary uk-button-small">Editar</a>
                </td> {% endif %}
                {% if perms.missao.delete_missao %} <td class="uk-text-center">
                    <a href="/missao/delete/{{missao.id}}" class="uk-button uk-button-danger uk-button-small">Deletar</a>
                </td> {% endif %}
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="uk-text-center uk-text-muted">Nenhuma missão cadastrada</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
